---
import Container from '@/components/Container.astro';

const pathname = Astro.url.pathname;

// Handle language-specific paths
const isHomePage = pathname === '/' || pathname === '/en' || pathname === '/ko';
const isWritingPage = pathname.startsWith('/writing');
const isToyProjectsPage = pathname.startsWith('/toy-projects');

// Detect current language from path
const isKorean = pathname.endsWith('/ko') || pathname.includes('/ko/');

---

<Container as='header' class="w-full max-w-full flex justify-center items-center">
  <div class="w-max fixed top-0 mt-5 bg-muted-foreground/40 backdrop-blur-md border border-border rounded-full p-1">
    <nav class="flex items-center">
      <ul class="flex items-center gap-1">
        <li>
          <a href="/" class:list={[
            'font-medium transition-colors block px-5 py-2',
            'hover:text-headings',
            isHomePage && 'text-headings bg-muted-foreground/40 rounded-full',
          ]}>{isKorean ? '홈' : 'Home'}</a>
        </li>
        <li>
          <a href="/writing" class:list={[
            'font-medium transition-colors block px-5 py-2',
            'hover:text-headings',
            isWritingPage && 'text-headings bg-muted-foreground/40 rounded-full',
          ]}>{isKorean ? '블로그' : 'Writing'}</a>
        </li>
        <li>
           <a href="/toy-projects" class:list={[
            'font-medium transition-colors block px-5 py-2',
            'hover:text-headings',
            isToyProjectsPage && 'text-headings bg-muted-foreground/40 rounded-full',
          ]}>{isKorean ? '토이 프로젝트' : 'Toy Projects'}</a>
        </li>
      </ul>
    </nav>
  </div>
</Container>
